.. _torch_nccl_environment_variables:

متغيرات بيئة PYTORCH ProcessGroupNCCL
==============================================
لمزيد من المعلومات حول متغيرات البيئة، راجع `متغيرات بيئة ProcessGroupNCCL <https://github.com/pytorch/pytorch/blob/main/torch/csrc/distributed/c10d/ProcessGroupNCCL.hpp>`_.

.. list-table::
  :header-rows: 1

  * - المتغير
    - الوصف
  * - ``TORCH_NCCL_ASYNC_ERROR_HANDLING``
    - التحكم في كيفية تعاملنا مع الأخطاء غير المتزامنة مع NCCL عند حدوث استثناء في المراقبة. إذا تم تعيينه على 0، فلن يتم التعامل مع الأخطاء غير المتزامنة لـ NCCL. إذا تم تعيينه على 1، سيتم إيقاف محول NCCL وإنهاء العملية عند حدوث خطأ. إذا تم تعيينه على 2، سيتم فقط إيقاف محول NCCL، وإذا تم تعيينه على 3، سيتم إنهاء العملية دون إيقاف محول NCCL. افتراضيًا، يتم تعيينه على 3.
  * - ``TORCH_NCCL_HIGH_PRIORITY``
    - التحكم فيما إذا كان سيتم استخدام تدفق عالي الأولوية لمحول NCCL.
  * - ``TORCH_NCCL_BLOCKING_WAIT``
    - التحكم فيما إذا كان wait() كتلة أو غير حظر.
  * - ``TORCH_NCCL_DUMP_ON_TIMEOUT``
    - التحكم فيما إذا كان سيتم تفريغ معلومات التصحيح عند مهلة المراقبة أو اكتشاف استثناء. يجب تعيين هذا المتغير مع TORCH_NCCL_TRACE_BUFFER_SIZE أكبر من 0.
  * - ``TORCH_NCCL_DESYNC_DEBUG``
    - التحكم فيما إذا كان تصحيح عدم التزامن ممكّنًا. هذا مفيد في معرفة ترتيب المخطئ في عدم التزامن الجماعي.
  * - ``TORCH_NCCL_ENABLE_TIMING``
    - إذا تم تعيينه على "1"، قم بتمكين تسجيل أحداث البدء لجميع المجموعات الفرعية لـ ProcessGroupNCCL، واحسب الوقت الجماعي الدقيق لكل مجموعة.
  * - ``TORCH_NCCL_ENABLE_MONITORING``
    - إذا تم تعيينه على "1"، قم بتمكين مؤشر الترابط للمراقبة الذي يقوم بإنهاء العملية عندما يعلق مؤشر ترابط المراقبة التابع لـ ProcessGroupNCCL ولا يتم اكتشاف أي إشارة بعد TORCH_NCCL_HEARTBEAT_TIMEOUT_SEC. قد يحدث هذا بسبب استدعاء واجهات برمجة تطبيقات CUDA/NCCL التي قد تعلق. من المفيد منع الوظائف من التوقف لفترة أطول من الوقت اللازم لربط موارد المجموعة.
  * - ``TORCH_NCCL_HEARTBEAT_TIMEOUT_SEC``
    - التحكم في فترة مهلة نبض القلب للمراقبة بعد انتهاء صلاحية مؤشر الترابط للمراقبة وإنهاء العملية.
  * - ``TORCH_NCCL_TRACE_BUFFER_SIZE``
    - العدد الأقصى للأحداث التي نخزنها في مخزن الحلقات الخاص بمسجل الطيران. يمكن أن يكون أحد الأحداث، على سبيل المثال، بداية أو نهاية جماعية. قم بتعيين 0 لتعطيل مخزن التعقب وتفريغ معلومات التصحيح.
  * - ``TORCH_NCCL_TRACE_CPP_STACK``
    - ما إذا كان سيتم جمع آثار المكدس cpp لمسجل الطيران. القيمة الافتراضية هي False.
  * - ``TORCH_NCCL_COORD_CHECK_MILSEC``
    - التحكم في الفاصل الزمني داخل مؤشر ترابط المراقبة للتحقق من الإشارة المنسقة من الرتب الأخرى، على سبيل المثال، لتفريغ معلومات التصحيح. القيمة الافتراضية هي 1000 مللي ثانية.
  * - ``TORCH_NCCL_WAIT_TIMEOUT_DUMP_MILSEC``
    - التحكم في مقدار الوقت الإضافي الذي سننتظره لتفريغ معلومات التصحيح قبل الخروج وإلقاء استثناء المهلة.
  * - ``TORCH_NCCL_DEBUG_INFO_TEMP_FILE``
    - الملف الذي سيتم تفريغ معلومات التصحيح فيه.
  * - ``TORCH_NCCL_DEBUG_INFO_PIPE_FILE``
    - ملف الأنابيب لتشغيل تفريغ التصحيح يدويًا، سيؤدي كتابة أي شيء في الأنبوب إلى تشغيل التفريغ.
  * - ``TORCH_NCCL_NAN_CHECK``
    - التحكم فيما إذا كان سيتم تمكين فحص NAN للإدخال، سيتم إلقاء خطأ إذا تم اكتشاف NAN.